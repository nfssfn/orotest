"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2013],{62013:function(e,t,n){n.r(t),n.d(t,{AnalyticsRentProvider:function(){return F}});var r=n(85893),o=n(67294),s=n(89694),a=n(47568),i=n(51438),_=n(52951),d=n(14924),l=n(26042),u=n(10253),c=n(70655),p=n(34051),h=n.n(p),m=n(68949),y=n(49385),g=n(9669),v=n.n(g),b=n(87339),f=function(){function e(){(0,i.Z)(this,e)}return(0,_.Z)(e,[{key:"getAnalytics",value:function(e){return v().post("/api/property/analytics",e)}}]),e}();(0,c.gn)([(0,b.B)("ListingAnalytics:getAnalytics",[]),(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[void 0])],f.prototype,"getAnalytics",null);var w=new f,B=n(76746);var k={agg_type:"zip",prop_class:"rent",graph_names:["rent_trends_by_bedroom_count","median_home_price","median_price_per_sq_ft","new_listings","new_listings_year_over_year","home_sales","home_sales_year_over_year","median_sale_to_listratio","median_sale_price_vs_list_price","homes_sold_by_price_range","homes_sold_by_bedroom_count","homes_sold_by_size","homes_sold_by_bathroom_count"]},C=[{value:"Studio"},{value:"1 Bedroom",mobileLabel:1},{value:"2 Bedroom",mobileLabel:2},{value:"3 Bedroom",mobileLabel:3},{value:"4 Bedroom",mobileLabel:4},{value:"5+ Bedroom",mobileLabel:"5+"}],Z=[{value:"Studio"},{value:1},{value:2},{value:3},{value:4},{value:"5+"}],x=function(){function e(t,n){(0,i.Z)(this,e),(0,d.Z)(this,"id",null),(0,d.Z)(this,"Basis",null),(0,d.Z)(this,"__dto",null),(0,d.Z)(this,"fetched",!1),(0,d.Z)(this,"marketChartControl",null),this.id=t,this.Basis=n,(0,m.rC)(this)}return(0,_.Z)(e,[{key:"init",value:function(t){var n=this;return(0,a.Z)(h().mark((function r(){var o,s,a,i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.Basis.dto.data.beds>5?5:n.Basis.dto.data.beds,null===(s=null===t||void 0===t?void 0:t.dto)||void 0===s){r.next=6;break}r.t0=s,r.next=9;break;case 6:return r.next=8,e.fetch((0,l.Z)({prop_id:n.id},k));case 8:r.t0=r.sent;case 9:a=r.t0,i=6===a.graphs.rent_trends_by_bedroom_count.datasets.length?Z:C,n.marketChartControl=new y.f("sale-trend-by-bedroom-count",{enum:a.graphs.rent_trends_by_bedroom_count.datasets.map((function(e){return i[parseInt(e.name,10)]})),initialEnumIndex:function(){var e=a.graphs.rent_trends_by_bedroom_count.datasets.findIndex((function(e){return parseInt(e.name,10)===o}));return e<0?0:e}(),defaultEnumIndex:0,disabled:!1,type:"radio"}),n.setDTO(a),n.setFetched(!0);case 14:case"end":return r.stop()}}),r)})))()}},{key:"dto",get:function(){return null===this.__dto?null:function(e,t,n){try{var r={priceTrendByBedroomCount:n.graphs.rent_trends_by_bedroom_count,medianHomePrice:n.graphs.median_home_price,medianPricePerSqft:n.graphs.median_price_per_sq_ft,newListings:n.graphs.new_listings,newListingsYearOverYear:n.graphs.new_listings_year_over_year,homesSold:n.graphs.home_sales,homesSoldYearOverYear:n.graphs.home_sales_year_over_year,medianCloseToListRatio:n.graphs.median_sale_to_listratio,medianClosePriceVsListPrice:n.graphs.median_sale_price_vs_list_price,homesSoldByPriceRange:n.graphs.homes_sold_by_price_range,homesSoldByBedroomCount:n.graphs.homes_sold_by_bedroom_count,homesSoldBySize:n.graphs.homes_sold_by_size,homesSoldByBathroomCount:n.graphs.homes_sold_by_bathroom_count,charts:void 0};return r.charts=(0,B.yr)(e,t,r),r}catch(o){return null}}(this.Basis,this,this.__dto)}},{key:"hydraData",get:function(){return{dto:this.__dto}}},{key:"setDTO",value:function(e){this.__dto=e}},{key:"setFetched",value:function(e){this.fetched=e}}],[{key:"fetch",value:function(e){return(0,a.Z)(h().mark((function t(){var n,r,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u.Z,t.next=3,w.getAnalytics(e);case 3:if(t.t1=t.sent,n=(0,t.t0)(t.t1,2),r=n[0],!(o=n[1])){t.next=9;break}throw o;case 9:return t.abrupt("return",r.data);case 10:case"end":return t.stop()}}),t)})))()}}]),e}();(0,c.gn)([m.LO],x.prototype,"__dto",void 0),(0,c.gn)([m.LO],x.prototype,"fetched",void 0),(0,c.gn)([m.Fl,(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[])],x.prototype,"dto",null),(0,c.gn)([m.Fl,(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[])],x.prototype,"hydraData",null),(0,c.gn)([m.aD,(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[void 0])],x.prototype,"setDTO",null),(0,c.gn)([m.aD,(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[void 0])],x.prototype,"setFetched",null);var L=(0,o.createContext)(null);var F=function(e){var t=e.children,n=(0,s._R)(),a=n.id,i=(0,o.useMemo)((function(){return new x(a,n)}),[a]);return(0,r.jsx)(L.Provider,{value:i,children:t})}}}]);