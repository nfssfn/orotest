"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3655],{13655:function(e,t,n){n.r(t),n.d(t,{PageViewContext:function(){return w},PageViewProvider:function(){return _},usePageView:function(){return E}});var o=n(26042),i=n(69396),u=n(85893),r=n(67294),a=n(29323),l=n(11163),s=n(55397),c=n(89694),d=n(20129),f=n(98985),v=n(6452),h=n(81976),g=h.g.LISTING_RECENTLY_VIEWED_STORE_NAME,p=h.g.LISTING_RECENTLY_VIEWED_STORE_MAX_COUNT,w=(0,r.createContext)(null);function E(){return(0,r.useContext)(w)}var _=(0,a.Pi)((function(e){var t=e.children,n=(0,l.useRouter)(),a=(0,c._R)(),h=a.id,E=(0,r.useMemo)((function(){return new d.N("page-view",{initialValue:!1,defaultValue:!1,onChange:function(e){var t,u;(0,f.X)(0);var r=(0,s.C)((0,i.Z)((0,o.Z)({},null===(t=a.dto)||void 0===t?void 0:t.address),{id:null===(u=a.dto)||void 0===u?void 0:u.id}));e?n.push(r+"#invest"):n.push(r)},type:"checkbox"})}),[a]);return(0,r.useEffect)((function(){a.dto&&function(){var e,t=(0,v.getListingPageView)(h,null===(e=a.dto)||void 0===e?void 0:e.is.investable,n.asPath),o=JSON.parse(localStorage.getItem(g));if(o){var i=o[t]||[],u=i.indexOf(h);-1!==u&&i.splice(u,1),i.unshift(h),o[t]=i,i.length>p&&i.pop(),localStorage.setItem(g,JSON.stringify(o))}}()}),[a.dto,E.rawValue]),(0,r.useEffect)((function(){var e;"#invest"===window.location.hash&&(null===(e=a.dto)||void 0===e?void 0:e.is.investable)?E.setRawValue(!0):E.setRawValue(!1)}),[a.pageType]),(0,u.jsx)(w.Provider,{value:E,children:t})}))},98985:function(e,t,n){function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:220,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"smooth";"number"===typeof e?window.scrollTo({top:e,behavior:n}):"object"===typeof e&&e.current&&window.scrollTo({top:e.current.offsetTop-t,behavior:n})}n.d(t,{X:function(){return o}})}}]);